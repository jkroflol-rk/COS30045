<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta information -->
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="style/style.css"/>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="script/choropleth.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300&family=Open+Sans:wght@300&display=swap"
          rel="stylesheet">
    <title>New Zealand Migration</title>

    <style></style>
</head>

<body>
    <!-- Main heading -->
    <div id="intro">
        <h1>New Zealand Migration</h1>
        <p>
            This visualisation shows the migration patterns of New Zealanders between 2000 and 2020.
            The data is sourced from the New Zealand Department of Statistics.
        </p>
    </div>
    <div id="viz">
        <div class="content">
            <h1>Arrival choropleth map</h1>
            <p>
                Discover the flow of migration to New Zealand with our interactive choropleth map. This dynamic
                visualization allows users to track migration patterns over the years using a convenient slider feature.
                Hover over individual countries to uncover detailed information, including the number of people arriving
                from each location. Whether exploring historical trends or examining recent migration data, our map provides
                valuable insights into the diverse origins of New Zealand's population influx.</p>
        </div>
        <div class="tooltip"></div>
        <div id="legend"></div>
        <input
                type="range"
                name="mySlider"
                id="mySlider"
                min="2013"
                max="2023"
        />

        <div id="map"></div>
        <br/>
        <div class="content">
            <h1>The diversity of purpose and age group</h1>
            <p>
                Discover the diversity of purpose and age group in migration to New Zealand with our interactive radar
                chart. This dynamic visualization allows users to toggle between age groups and visa purposes, providing
                insights into the multifaceted nature of migration patterns. Whether exploring the distribution of age
                groups or examining the varied purposes behind migration, our radar chart offers valuable insights into the
                demographic and motivational aspects of New Zealand's migration influx.</p>
        </div>
        <div class="radarChart"></div>

    <script src="script/radarChart.js"></script>
    <script>

        /* Radar chart design created by Nadieh Bremer - VisualCinnamon.com */

        //draw the radar chart

        var color = d3.scaleOrdinal()
            .range(["#EDC951", "#CC333F", "#00A0B0"]);

        var radarChartOptions = {
            w: width,
            h: height,
            margin: margin,
            maxValue: 0.5,
            levels: 5,
            roundStrokes: true,
            color: color
        };

        //set up the radar chart

        var margin = {top: 100, right: 100, bottom: 100, left: 100},
            width = Math.min(700, window.innerWidth - 10) - margin.left - margin.right,
            height = Math.min(width, window.innerHeight - margin.top - margin.bottom - 20);

        //data

        var data = [
					  [//iPhone
						{axis:"Battery Life",value:0.22},
						{axis:"Brand",value:0.28},
						{axis:"Contract Cost",value:0.29},
						{axis:"Design And Quality",value:0.17},
						{axis:"Have Internet Connectivity",value:0.22},
						{axis:"Large Screen",value:0.02},
						{axis:"Price Of Device",value:0.21},
						{axis:"To Be A Smartphone",value:0.50}
					  ]
					];

        data[0][0].axis = "Vietnam";

        console.log(data);

        d3.csv("dataset/nz_data.csv").then(function (data) {
            for (var i = 0; i < data.length; i++) {
                if (data[i].year == 2020 && data[i].country == "Vietnam") {
                    // console.table(data[i]);
                }
            }
        });

        //Call function to draw the Radar chart
        RadarChart(".radarChart", data, radarChartOptions);
    </script>
    </div>


    <!-- Footer information -->
    <footer>
        COS30045 Data Visualisation - 2024<br/>
        Le Xuan Nhat, Duong Quang Thanh
    </footer>
</body>
</html>
